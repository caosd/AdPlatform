<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.stomato.dao.AdChannelDao">
	<resultMap type="com.stomato.domain.AdChannel" id="adChannel"> 
		<result property="id" column="id" />
		<result property="channelName" column="channel_name" />
		<result property="chantactTel" column="chantactT_tel" />
		<result property="qq" column="qq"/>
		<result property="contactName" column="contact_name"/>
		<result property="description" column="description"/>
		<result property="enable" column="enable"/>
		<result property="createTime" column="create_time"/>
	</resultMap>
	
	<insert id="addAdChannel" parameterType="com.stomato.domain.AdChannel">
		insert into t_ad_channel (channel_name,
							chantactT_tel,
							qq,
							contact_name,
							description,
							enable,
							create_time) 
		values (#{channelName},#{chantactTel},#{qq},#{contactName},#{description},#{enable},#{createTime})
	</insert>
	
	<select id="getAdChannel" parameterType="int" resultMap="adChannel" >
		select id,
				channel_name,
				chantactT_tel,
				qq,
				contact_name,
				description,
				enable,
				create_time
				from t_ad_channel where id=#{id}
	</select>
	<update id="updateAdChannel" parameterType="com.stomato.domain.AdChannel">
		update t_ad_rssource 
		<set>
			<if test="channelName != null">channel_name=#{channelName}</if>
			<if test="chantactTel != null">chantactT_tel=#{chantactTel}</if>
			<if test="qq != null">qq=#{qq}</if>
			<if test="contactName != null">contact_name=#{contactName}</if>
			<if test="description != null">description=#{description}</if>
			<if test="enable != null">enable=#{enable}</if>
		</set>
        where id = #{id}
	</update>
	<select id="listTotal" parameterType="com.stomato.domain.AdChannelParam" resultType="int">
		select count(1) from t_ad_channel where 1=1
		<if test="channelName != null">
		 	and channel_name like '%${channelName}%'
		</if>
	</select>
	<select id="listAdChannel" parameterType="com.stomato.domain.AdChannelParam" resultMap="adChannel" >
		select  id,
				channel_name,
				chantactT_tel,
				qq,
				contact_name,
				description,
				enable,
				create_time
				from t_ad_channel where 1=1 
		<if test="channelName != null">
		 	and channel_name like '%${channelName}%'
		</if>
		order by create_time asc
		<if test="slimt != null">limit #{slimt},#{pageSize}</if>
	</select>
</mapper>